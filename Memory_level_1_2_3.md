# Level 1
1. –ó–Ω–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ Garbage Collector, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω
2. –ó–Ω–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫
3. –ü–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç __del__ (a.__del__(); del a)
4. –ó–Ω–∞–µ—Ç –≤ —Ç–µ–æ—Ä–∏–∏, —á—Ç–æ —Ç–∞–∫–æ–µ memory profiler –∏ –¥–ª—è –∫–∞–∫–∏—Ö —Ü–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏


### –í–æ–ø—Ä–æ—Å: —á—Ç–æ —Ç–∞–∫–æ–µ Garbage Collector, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω?

–û—Ç–≤–µ—Ç: 

***Garbage Collector (GC)*** ‚Äî *—ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –≤ Python, 
–∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫, 
–æ—Å–≤–æ–±–æ–∂–¥–∞—è –∑–∞–Ω–∏–º–∞–µ–º—É—é –∏–º–∏ –ø–∞–º—è—Ç—å. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏, 
–∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç—ã –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è*

### –í–æ–ø—Ä–æ—Å: —á—Ç–æ —Ç–∞–∫–æ–µ —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫?

–û—Ç–≤–µ—Ç:

***–°—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫*** ‚Äî *—ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏. 
–ö–æ–≥–¥–∞ —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –æ–±—ä–µ–∫—Ç–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –Ω—É–ª—è, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, 
–∏ –µ–≥–æ –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å.*

### –í–æ–ø—Ä–æ—Å: –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç __del__ ```(a.del(); del a)```?

–û—Ç–≤–µ—Ç:

*–í Python —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é. 
–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫.
–ï—Å–ª–∏ –≤ –æ–±—ä–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ ```__del__```, Python –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ç–µ–º, 
–∫–∞–∫ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–Ω–∏—á—Ç–æ–∂–∏—Ç –æ–±—ä–µ–∫—Ç. –û–¥–Ω–∞–∫–æ –∏–º–µ–Ω–Ω–æ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, 
–∫–æ–≥–¥–∞ —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –æ–±—ä–µ–∫—Ç. –ü–æ—ç—Ç–æ–º—É –∏–º–µ–Ω–Ω–æ –æ–Ω —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ ```___del__```.
–ú–µ—Ç–æ–¥ del –∏–Ω–æ–≥–¥–∞ –Ω–∞–∑—ã–≤–∞—é—Ç ***—Ñ–∏–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º –∫–ª–∞—Å—Å–∞***. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, 
—á—Ç–æ del –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±—ä–µ–∫—Ç —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞, –∞ –Ω–µ —Å–∞–º –º–µ—Ç–æ–¥ ```__del__```. 
–ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –º–µ—Ç–æ–¥–∞ Python ```__del__```:
Python –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ ```__del__``` —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç –∏—Å—á–µ–∑–∞—é—Ç. 
–ò –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å.
–ü–æ—ç—Ç–æ–º—É –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ ```__del__``` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. 
–ï—Å–ª–∏ –≤ –º–µ—Ç–æ–¥–µ del –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–æ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —Ç–∞–∫–∂–µ —É–Ω–∏—á—Ç–æ–∂–∏—Ç —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã, 
–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω del. 
–ï—Å–ª–∏ –º–µ—Ç–æ–¥ del —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è. 
–ï—Å–ª–∏ –≤ –º–µ—Ç–æ–¥–µ ```__del__``` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, Python –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∞ —Ç–∏—Ö–æ –µ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç. 
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, Python –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ –≤ stderr. 
–ü–æ—ç—Ç–æ–º—É –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–º–æ–∂–µ—Ç —É–∑–Ω–∞—Ç—å –æ –≤–æ–∑–Ω–∏–∫—à–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö –≤–æ –≤—Ä–µ–º—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏. 
–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –º–µ—Ç–æ–¥ ```__del__``` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ —Ä–µ–¥–∫–æ.*
```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def __del__(self):
        print('__del__ –±—ã–ª –≤—ã–∑–≤–∞–Ω')

person_1 = Person('John Doe', 23)
person_1 = None

person_2 = Person('John Doe', 23)
del person_2
```
–†–µ–∑—É–ª—å—Ç–∞—Ç:
``` python
__del__ –±—ã–ª –≤—ã–∑–≤–∞–Ω

__del__ –±—ã–ª –≤—ã–∑–≤–∞–Ω
```
***–û–¥–Ω–∞–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä del –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ ```__del__```, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Å—Å—ã–ª–∫—É.***

***–†–µ–∑—é–º–µ:***
Python –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ del –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–Ω–∏—á—Ç–æ–∂–∏—Ç –æ–±—ä–µ–∫—Ç.
–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ–≥–¥–∞ –Ω–∞ –Ω–µ–≥–æ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫.
–ò—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ del, –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è, –∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
–ò–∑–±–µ–≥–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è del –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä


### –í–æ–ø—Ä–æ—Å: —á—Ç–æ —Ç–∞–∫–æ–µ memory profiler –∏ –¥–ª—è –∫–∞–∫–∏—Ö —Ü–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏?

–û—Ç–≤–µ—Ç:

***Memory profiler*** - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º–æ–π. 
–û–Ω –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.
–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∫–∞ –ø–∞–º—è—Ç–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–æ–≤, 
—á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.

```python
from memory_profiler import profile

@profile
def my_function():
    a = [1] * (10 ** 6)  # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
    b = [2] * (2 * 10 ** 7)  # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
    return a

if __name__ == "__main__":
    my_function()
```
***–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞***: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. 
–õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–¥ —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.

***–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è***: –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è Python-–∫–æ–¥–∞ –∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π –ø–∞–º—è—Ç–∏.

***–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:***
–í Python —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏, 
–∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ. –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑ –Ω–∏—Ö:

tracemalloc:

–≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å Python (–Ω–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 3.4), 
–∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, 
–≤–∫–ª—é—á–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –ø–æ —Å—Ç—Ä–æ–∫–∞–º –∫–æ–¥–∞.
```python
import tracemalloc

tracemalloc.start()

# –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞
a = [1] * (10 ** 6)
b = [2] * (2 * 10 ** 7)

print(f"–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –ø–∞–º—è—Ç–∏: {tracemalloc.get_traced_memory()}")
tracemalloc.stop()

```
***–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*** 

–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, 
–≤–∫–ª—é—á–∞—è –∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞). –í—Å—Ç—Ä–æ–µ–Ω –≤ Python.

***–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:*** 

–ú–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

guppy3 (Heapy):

–≠—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ –≤ Python, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏, 
–≤–∫–ª—é—á–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ.
```python
from guppy import hpy

h = hpy()
print(h.heap())  # –ü–µ—á–∞—Ç–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–∞–º—è—Ç–∏

```
***–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*** 

–û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∫—É—á–µ.

***–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:*** 

–ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–æ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ.

psutil:

–≠—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. 
–û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã (–Ω–µ —Ç–æ–ª—å–∫–æ Python-–æ–±—ä–µ–∫—Ç–æ–≤), 
–∞ —Ç–∞–∫–∂–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π.
```python
import psutil
process = psutil.Process()
print(f"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: {process.memory_info().rss}")

```
***–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*** 

–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ Python-–ø—Ä–æ–≥—Ä–∞–º–º–µ, –Ω–æ –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

***–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:*** 

–ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –≤–Ω—É—Ç—Ä–∏ Python-–∫–æ–¥–∞.

objgraph:

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏—Ö —Å–≤—è–∑–µ–π –≤ –ø–∞–º—è—Ç–∏. 
–ü–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏, –ø–æ–∫–∞–∑—ã–≤–∞—è, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞.
```python
import objgraph

# –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ –æ–±—ä–µ–∫—Ç–æ–≤
objgraph.show_most_common_types()

```
***–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*** 

–û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏.

***–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:*** 

–ù–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –≤ –±–∞–π—Ç–∞—Ö.

# Level 2
1. –ü–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ heap/stack memory –≤ python
2. –ó–Ω–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å slots, –∞ —Ç–∞–∫–∂–µ –∏—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
3. –ó–Ω–∞–µ—Ç –æ–±–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ (Refcounter/Generations)


### –í–æ–ø—Ä–æ—Å: —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ heap/stack memory –≤ Python

–û—Ç–≤–µ—Ç:

Heap (–∫—É—á–∞):
–ó–¥–µ—Å—å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã: —Å–ø–∏—Å–∫–∏, —Å–ª–æ–≤–∞—Ä–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã, —Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞ –∏ —Ç.–¥.
–≠—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ (GC).
```python
def my_func():
    a = [1, 2, 3]  # —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ø–∏—Å–æ–∫

my_func()
```
–ö–æ–≥–¥–∞ my_func() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ø–∏—Å–æ–∫ [1, 2, 3], –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è a —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–≥–æ.
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è my_func(), –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è a —É–¥–∞–ª—è–µ—Ç—Å—è (–æ–Ω–∞ –±—ã–ª–∞ –≤ —Å—Ç–µ–∫–µ).
–ù–∞ —Å–ø–∏—Å–æ–∫ [1, 2, 3] –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫ ‚Üí GC —É–¥–∞–ª–∏—Ç –µ–≥–æ –∏–∑ –ø–∞–º—è—Ç–∏.

–í—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤ Python —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –∫—É—á–µ, –∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ —Å—Ç–µ–∫–µ ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã.

Stack (—Å—Ç–µ–∫) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–º—ë–Ω –∏ —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –∏ 
—Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ(—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ñ—Ä–µ–π–º –∏ –∞–¥—Ä–µ—Å –≤–æ–∑–≤—Ä–∞—Ç–∞) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞. 
–£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: 
–∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å—Ç–µ–∫–æ–≤—ã–π —Ñ—Ä–µ–π–º(–∫–∞–¥—Ä), 
–∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è ‚Äî —Ñ—Ä–µ–π–º(–∫–∞–¥—Ä) —É–¥–∞–ª—è–µ—Ç—Å—è.

***–í–∞–∂–Ω–æ–µ:*** –î–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, 
–Ω–∞–ø—Ä–∏–º–µ—Ä x = 5, —Å–∞–º–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è (—Å—Å—ã–ª–∫–∞) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–µ–∫–µ, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ 5 ‚Äî –≤ –∫—É—á–µ.
–í Python –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –∏ –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫—É—á–µ, –∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –Ω–∏—Ö.

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å x = 5 –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏?

Python –≤–∏–¥–∏—Ç, —á—Ç–æ —Ç—ã —Å–æ–∑–¥–∞—ë—à—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é x –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—à—å –µ–π –∑–Ω–∞—á–µ–Ω–∏–µ 5.
Python —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —á–∏—Å–ª–∞ 5 –≤ –∫—É—á–µ (heap) ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, 
–≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã (—á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, —Å–ø–∏—Å–∫–∏, –∫–ª–∞—Å—Å—ã –∏ —Ç.–¥.).
–í —Å—Ç–µ–∫ (stack) ‚Äî —Ç–æ –µ—Å—Ç—å –ø–∞–º—è—Ç—å, 
–≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π, ‚Äî –ø–æ–º–µ—â–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è x, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç 5 –≤ –∫—É—á–µ.

üìå –ß—Ç–æ –∑–Ω–∞—á–∏—Ç "—Å—Å—ã–ª–∫–∞"?

–≠—Ç–æ –∫–∞–∫ —è—Ä–ª—ã–∫ –∏–ª–∏ —É–∫–∞–∑–∞—Ç–µ–ª—å: x –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∞–º–æ —á–∏—Å–ª–æ, –∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç 5, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–∂–∏—Ç –≤ –∫—É—á–µ.
–¢—ã –º–æ–∂–µ—à—å —Å–æ–∑–¥–∞—Ç—å –¥—Ä—É–≥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é y = x, –∏ –æ–Ω–∞ —Ç–æ–∂–µ –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç 5 –≤ –∫—É—á–µ.

üß† –ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ?

–ü–æ—Ç–æ–º—É —á—Ç–æ –≤ Python –≤—Å—ë ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∏ —á—Ç–æ–±—ã –±—ã–ª–æ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ, –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã (–¥–∞–∂–µ —á–∏—Å–ª–∞) –ª–µ–∂–∞—Ç –≤ –∫—É—á–µ, 
–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∏—Ö.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:
–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ–∂–¥—É —Ñ—É–Ω–∫—Ü–∏—è–º–∏,
—ç–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º—è—Ç—å (–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç ‚Äî –º–Ω–æ–≥–æ —Å—Å—ã–ª–æ–∫),
—É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞.
```python
def my_func():
    x = 5
```
5 ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ (–µ—Å–ª–∏ –µ–≥–æ —Ç–∞–º –µ—â—ë –Ω–µ—Ç).

x ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ —Å—Ç–µ–∫–µ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç 5.

–ï—Å–ª–∏ —Ç—ã –ø–æ—Ç–æ–º —Å–¥–µ–ª–∞–µ—à—å:
```python
y = x
```
y ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è (—Ç–æ–∂–µ –≤ —Å—Ç–µ–∫–µ), –∫–æ—Ç–æ—Ä–∞—è —Ç–æ–∂–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –æ–±—ä–µ–∫—Ç 5 –≤ –∫—É—á–µ.

### –í–æ–ø—Ä–æ—Å: –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å __slots__, –∞ —Ç–∞–∫–∂–µ –∏—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?

–û—Ç–≤–µ—Ç:

```__slots__``` ‚Äî —ç—Ç–æ ***–º–µ—Ö–∞–Ω–∏–∑–º Python***, 
–ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–∞ –∏ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º—è—Ç—å.
–ó–∞—á–µ–º –Ω—É–∂–Ω—ã:

–û–±—ã—á–Ω—ã–µ Python-–æ–±—ä–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–æ–≤–∞—Ä—å __dict__ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ ‚Äî –æ–Ω –≥–∏–±–∫–∏–π, –Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.
–ï—Å–ª–∏ –∑–∞–¥–∞—Ç—å __slots__, Python —Å–æ–∑–¥–∞—ë—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç ```__dict__```, —á—Ç–æ:
–£–º–µ–Ω—å—à–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
–ü–æ–≤—ã—à–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º (–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö).
```python
class Point:
    __slots__ = ('x', 'y')  # —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ —ç—Ç–∏ –¥–≤–∞ –∞—Ç—Ä–∏–±—É—Ç–∞

    def __init__(self, x, y):
        self.x = x
        self.y = y
```
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –Ω–æ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã (–æ—à–∏–±–∫–∞ AttributeError).

- –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ ```__slots__``` –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
```python
class A:
    __slots__ = ('a',)

class B:
    __slots__ = ('b',)

class C(A, B):  # ‚ùå –û—à–∏–±–∫–∞ TypeError
    pass

```
‚ùó TypeError: multiple bases have instance lay-out conflict

ü§î –ü–æ—á–µ–º—É?

–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å —Å ```__slots__``` —Å–æ–∑–¥–∞—ë—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –æ–±—ã—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤. 
–ü—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ ```__slots__``` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç: Python –Ω–µ –∑–Ω–∞–µ—Ç, 
–∫–∞–∫ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å–ª–æ—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.

- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å ```__dict__``` –∏ ```__weakref__``` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å —è–≤–Ω–æ –≤ ```__slots__```).

–ö–æ–≥–¥–∞ —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å ```__slots__```, Python –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ:
```__dict__``` ‚Äî —Å–ª–æ–≤–∞—Ä—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–≤ –Ω—ë–º –æ–±—ã—á–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è).
```__weakref__``` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–ª–∞–±—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç.

–≠—Ç–æ –∏ –¥–∞—ë—Ç —ç–∫–æ–Ω–æ–º–∏—é –ø–∞–º—è—Ç–∏, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

‚ùó –ß—Ç–æ –µ—Å–ª–∏ —Ç–µ–±–µ –≤—Å—ë-—Ç–∞–∫–∏ –Ω—É–∂–Ω—ã:

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏,
–∏–ª–∏ —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ weakref (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫—ç—à–µ).

```python
class MyClass:
    __slots__ = ('x', '__dict__', '__weakref__')

    def __init__(self):
        self.x = 42

```
```__dict__``` ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–∞–∫ –æ–±—ã—á–Ω–æ (obj.new_attr = 123)
```__weakref__``` ‚Äî –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –º–æ–¥—É–ª—è weakref

üìå –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å ```__dict__```:
```python
class MyClass:
    __slots__ = ('x',)

obj = MyClass()
obj.y = 10  # ‚ùå AttributeError: 'MyClass' object has no attribute 'y'

```
üìå –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å ```__weakref__```:
```python
import weakref

class MyClass:
    __slots__ = ('x',)

obj = MyClass()
ref = weakref.ref(obj)  # ‚ùå TypeError: cannot create weak reference to 'MyClass' object
```


### –í–æ–ø—Ä–æ—Å: —Ä–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –æ–±–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ (Refcounter / Generations)

–û—Ç–≤–µ—Ç:

–í Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞:

***Reference Counting (–°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫)*** ‚Äî üîß –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º

üìå –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–£ –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ Python –µ—Å—Ç—å —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ (reference count).
–≠—Ç–æ—Ç —Å—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/–æ–±—ä–µ–∫—Ç–æ–≤ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.
–ö–∞–∫ —Ç–æ–ª—å–∫–æ —Å—á—ë—Ç—á–∏–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω—É–ª–µ–≤—ã–º ‚Äî –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.
–ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ –ø–∞–º—è—Ç–∏ ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ.

‚ùó –ú–∏–Ω—É—Å:

–ù–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```python
class Node:
    def __init__(self):
        self.ref = None

a = Node()
b = Node()

a.ref = b
b.ref = a
```
–¢–µ–ø–µ—Ä—å a –∏ b —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, 
–¥–∞–∂–µ –µ—Å–ª–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è ‚Üí —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–µ —Å—Ç–∞–Ω–µ—Ç –Ω—É–ª–µ–≤—ã–º ‚Üí —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏.




***Generational Garbage Collector (–°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ –ø–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º)***

üìå –ó–∞—á–µ–º –Ω—É–∂–µ–Ω:
–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫.

üì¶ –ü—Ä–∏–Ω—Ü–∏–ø "–ø–æ–∫–æ–ª–µ–Ω–∏–π":
Python –¥–µ–ª–∏—Ç –æ–±—ä–µ–∫—Ç—ã –Ω–∞ —Ç—Ä–∏ –ø–æ–∫–æ–ª–µ–Ω–∏—è:

Gen 0 ‚Äî –≤—Å–µ –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã

Gen 1 ‚Äî –≤—ã–∂–∏–≤—à–∏–µ –∏–∑ Gen 0

Gen 2 ‚Äî –≤—ã–∂–∏–≤—à–∏–µ –∏–∑ Gen 1, —Å–∞–º—ã–µ "—Å—Ç–∞—Ä—ã–µ"

üïµÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç ‚Äî –æ–Ω –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Gen 0.
–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞:

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è Gen 0 ‚Äî —ç—Ç–æ –±—ã—Å—Ç—Ä–æ.
–ï—Å–ª–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ –æ–±—ä–µ–∫—Ç—ã –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è ‚Äî –æ–Ω–∏ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –≤ Gen 1.
–ï—Å–ª–∏ –≤—ã–∂–∏–ª–∏ –∏ —Ç–∞–º ‚Äî –ø–æ–ø–∞–¥–∞—é—Ç –≤ Gen 2.
Gen 2 –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ä–µ–∂–µ –≤—Å–µ–≥–æ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏).

‚öôÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º:

GC "—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–∞–º" –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ (–≥—Ä–∞—Ñ –æ–±—ä–µ–∫—Ç–æ–≤), 
—á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (–Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫—Ç–æ –Ω–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è).
–ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—ä–µ–∫—Ç–æ–≤ ‚Äî –æ–Ω–∏ —É–¥–∞–ª—è—é—Ç—Å—è.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å—Å—ã–ª–æ–∫, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∫—É—á–µ (heap), —Å—Ç–µ–∫ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç.

üß† –ü–æ—á–µ–º—É —Å—Ç–µ–∫ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç?

–í —Å—Ç–µ–∫–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å—Å—ã–ª–∫–∏, –Ω–æ –Ω–µ —Å–∞–º–∏ –æ–±—ä–µ–∫—Ç—ã.
–û–±—ä–µ–∫—Ç—ã ‚Äî –≤—Å–µ–≥–¥–∞ –≤ –∫—É—á–µ, –∏ GC —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Å –∫—É—á–µ–π.
–ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É, —Å—Ç–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è, 
–∏ —Å—Å—ã–ª–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç ‚Äî –µ—Å–ª–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –±–æ–ª—å—à–µ –Ω–∏–∫—Ç–æ –Ω–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è ‚Üí –æ–Ω–∏ —Å—Ä–∞–∑—É —É–¥–∞–ª—è—é—Ç—Å—è (reference count = 0).
```python
import gc

print(gc.get_count())  # ‚ûú –ø–æ–∫–∞–∂–µ—Ç, —Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∫–∞–∂–¥–æ–º –ø–æ–∫–æ–ª–µ–Ω–∏–∏ (0, 1, 2)
gc.collect()            # ‚ûú –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞

```

# Level 3
1. –ü–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –¥–æ—Å—Ç—É–ø –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ (Arena/Pool/Block)
2. –ú–æ–∂–µ—Ç –æ–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç—ã –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞
3. –ü–æ–Ω–∏–º–∞–µ—Ç –∫–∞–∫ GIL —Å–≤—è–∑–∞–Ω —Å GC
4. –ò–º–µ–µ—Ç –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å memory profiler
5. –ò–º–µ–µ—Ç –æ–ø—ã—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
6. –ó–Ω–∞–µ—Ç –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω PyObject (–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ, —á—Ç–æ –≤ –Ω–µ–º —Ö—Ä–∞–Ω–∏—Ç—Å—è)

### –í–æ–ø—Ä–æ—Å: –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –¥–æ—Å—Ç—É–ø –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ (Arena/Pool/Block)

–û—Ç–≤–µ—Ç:

Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é ‚Äî –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è pymalloc
üìå pymalloc = —Å–ø–æ—Å–æ–± –±—ã—Å—Ç—Ä–æ –≤—ã–¥–µ–ª—è—Ç—å –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –ø–∞–º—è—Ç—å –ø–æ–¥ –º–∞–ª–µ–Ω—å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã.

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ–Ω—å—à–µ 512 –±–∞–π—Ç.
–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–æ–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑ —è–∑—ã–∫–∞ –°, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è malloc.
üìå malloc = –æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–± –≤–∑—è—Ç—å –ø–∞–º—è—Ç—å —É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

‚úÖ 1. Arena (–ê—Ä–µ–Ω–∞) ‚Äî üß± –±–æ–ª—å—à–æ–π —Å–∫–ª–∞–¥ –ø–∞–º—è—Ç–∏
–†–∞–∑–º–µ—Ä: 256 –ö–ë ‚Äî —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–æ–π –∫—É—Å–æ–∫ –ø–∞–º—è—Ç–∏

–ê—Ä–µ–Ω–∞ ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ Python –ø—Ä–æ—Å–∏—Ç —É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
üìå –û–° = –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Windows, Linux)

–û–¥–Ω–∞ –∞—Ä–µ–Ω–∞ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É—á–∞—Å—Ç–∫–æ–≤ ‚Äî –æ–Ω–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—É–ª—ã

üîé –ó–∞—á–µ–º –∞—Ä–µ–Ω—ã?

–ß—Ç–æ–±—ã –Ω–µ –ø—Ä–æ—Å–∏—Ç—å —É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑. 
–≠—Ç–æ –¥–æ–ª–≥–æ –∏ —Ç—è–∂–µ–ª–æ. –õ—É—á—à–µ –æ–¥–∏–Ω —Ä–∞–∑ –≤–∑—è—Ç—å –±–æ–ª—å—à–æ–π –∫—É—Å–æ–∫ –∏ —É–∂–µ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ —Ä–∞–∑–¥–∞–≤–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–µ.

‚úÖ 2. Pool (–ü—É–ª) ‚Äî üì¶ —è—â–∏–∫ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —è—á–µ–π–∫–∞–º–∏
–†–∞–∑–º–µ—Ä: 4 –ö–ë ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞–º—è—Ç–∏ –≤ –û–°

–û–¥–∏–Ω –ø—É–ª –º–æ–∂–µ—Ç –≤—ã–¥–µ–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –±–ª–æ–∫–∏ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
üìå –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –ø–æ 16 –±–∞–π—Ç, –∏–ª–∏ —Ç–æ–ª—å–∫–æ –ø–æ 64 –±–∞–π—Ç–∞. –ù–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è!

–û–¥–∏–Ω –∞—Ä–µ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–≥–æ –ø—É–ª–æ–≤

üìå –ü–æ—á–µ–º—É –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä?

–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —É—á—ë—Ç ‚Äî Python –ª–µ–≥–∫–æ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫–∏–µ –∫—É—Å–∫–∏ –∑–∞–Ω—è—Ç—ã, –∫–∞–∫–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã.

‚úÖ 3. Block (–ë–ª–æ–∫) ‚Äî üî≤ –º–∞–ª–µ–Ω—å–∫–∞—è —è—á–µ–π–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø—É–ª–∞
–≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–∞ —Å–∞–º–∞—è –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç Python (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Å–ª–æ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)

–†–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–æ–π –ø—É–ª –µ–≥–æ –≤—ã–¥–∞–ª
üìå –ü—Ä–∏–º–µ—Ä:

–ü—É–ª —Å –±–ª–æ–∫–∞–º–∏ –ø–æ 16 –±–∞–π—Ç ‚Üí –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∏—Ç 16 –±–∞–π—Ç

–ü—É–ª —Å –±–ª–æ–∫–∞–º–∏ –ø–æ 64 –±–∞–π—Ç–∞ ‚Üí –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∏—Ç 64 –±–∞–π—Ç–∞

üß† –ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏:

–£ –≤–∞—Å –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Å–∏—Ç 40 –±–∞–π—Ç
Python –≤—ã–±–µ—Ä–µ—Ç –ø—É–ª –Ω–∞ 48 –±–∞–π—Ç
–í—ã –ø–æ–ª—É—á–∏—Ç–µ 1 –±–ª–æ–∫ ‚Äî –Ω–æ —Ä–µ–∞–ª—å–Ω–æ –∑–∞–π–º—ë—Ç–µ 48 –±–∞–π—Ç, —Ö–æ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ 40


Arena = 256 KB —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ 64 –ø—É–ª–æ–≤ (–µ—Å–ª–∏ –∫–∞–∂–¥—ã–π –ø—É–ª –ø–æ 4 KB)
–û–¥–∏–Ω –ø—É–ª –º–æ–∂–µ—Ç:
  - –°–æ–¥–µ—Ä–∂–∞—Ç—å 256 –±–ª–æ–∫–æ–≤ –ø–æ 16 –±–∞–π—Ç
  - –ò–ª–∏ 64 –±–ª–æ–∫–∞ –ø–æ 64 –±–∞–π—Ç–∞
–ö–∞–∂–¥—ã–π –±–ª–æ–∫ = –ø–∞–º—è—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ PyObject

üß† –ü–æ—á–µ–º—É —ç—Ç–æ —É–¥–æ–±–Ω–æ?
- Python –Ω–µ –¥–µ–ª–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –û–° –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –û–±—ä–µ–∫—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Ä–∞–∑–º–µ—Ä—É ‚Äî –ø—Ä–æ—â–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å
- –ï—Å–ª–∏ –±–ª–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω, Python –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å–Ω–æ–≤–∞
- –ö–æ–≥–¥–∞ –≤—Å—è –∞—Ä–µ–Ω–∞ –ø—É—Å—Ç–∞—è ‚Äî –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ø–∞–º—è—Ç—å –û–°

üîÑ –ö–∞–∫ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø–∞–º—è—Ç—å

–ö–æ–≥–¥–∞ –≤—Å–µ –±–ª–æ–∫–∏ –≤ –ø—É–ª–µ —Å–≤–æ–±–æ–¥–Ω—ã, –ø—É–ª —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º.
–ö–æ–≥–¥–∞ –≤—Å–µ –ø—É–ª—ã –≤ –∞—Ä–µ–Ω–µ —Å–≤–æ–±–æ–¥–Ω—ã, –≤—Å—è –∞—Ä–µ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

### –í–æ–ø—Ä–æ—Å: –æ–ø–∏—à–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç—ã –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞

–û—Ç–≤–µ—Ç:

üìå GC = Garbage Collector = —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞
–≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å

üß† –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
–ö–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Python ‚Äî –æ–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç –ø–∞–º—è—Ç—å.
–ö–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–∂–µ –Ω–µ –Ω—É–∂–Ω–∞, Python –¥–æ–ª–∂–µ–Ω –ø–æ–Ω—è—Ç—å —ç—Ç–æ –∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å —Å–∞–º.

üîç –í Python –µ—Å—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–∞ GC:
- –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ (Reference Counting)
```python
a = [1, 2, 3]
b = a
```
–û–±—ä–µ–∫—Ç [1, 2, 3] —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç 2 —Å—Å—ã–ª–∫–∏ (–æ–¥–Ω–∞ –≤ a, –¥—Ä—É–≥–∞—è –≤ b)
–ö–æ–≥–¥–∞ a –∏ b —É–¥–∞–ª—è—é—Ç—Å—è ‚Äî —Å—á—ë—Ç—á–∏–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 0
Python —Å—Ä–∞–∑—É —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

üìå –ü–ª—é—Å—ã:

–ü—Ä–æ—Å—Ç–æ –∏ –±—ã—Å—Ç—Ä–æ
üìå –ú–∏–Ω—É—Å—ã:

–ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Ü–∏–∫–ª–æ–≤


- –°–±–æ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤ (Cycle Collector)

–ò–Ω–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –∏ —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω—É–ª—ë–º.

–ü—Ä–∏–º–µ—Ä:
```python
class Node:
    def __init__(self):
        self.ref = self

x = Node()
```
–£ x –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º–æ–≥–æ —Å–µ–±—è ‚Üí —Ü–∏–∫–ª.
–î–∞–∂–µ –µ—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å x, –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ –≤—Å—ë –µ—â—ë –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ ‚Üí –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫

üí° –ü–æ—ç—Ç–æ–º—É Python –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª-–¥–µ—Ç–µ–∫—Ç–æ—Ä

üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤:

- Python –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ü–∏–∫–ª—ã
- –û–Ω —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —á–∞—Å—Ç—å—é —Ü–∏–∫–ª–∞
- –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç—ã –Ω–µ –≤–∏–¥–Ω—ã –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ ‚Üí Python —É–¥–∞–ª—è–µ—Ç –∏—Ö

üì¶ Python –¥–µ–ª–∏—Ç –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –ø–æ–∫–æ–ª–µ–Ω–∏—è (Generations)
–ß—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å—ë –ø–æ–¥—Ä—è–¥, Python –¥–µ–ª–∏—Ç –æ–±—ä–µ–∫—Ç—ã –ø–æ "–≤–æ–∑—Ä–∞—Å—Ç—É":

- 0 –ø–æ–∫–æ–ª–µ–Ω–∏–µ ‚Äî –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
- 1 –ø–æ–∫–æ–ª–µ–Ω–∏–µ ‚Äî —Ç–µ, –∫—Ç–æ "–≤—ã–∂–∏–ª" –ø–æ—Å–ª–µ 1-–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- 2 –ø–æ–∫–æ–ª–µ–Ω–∏–µ ‚Äî –≤—ã–∂–∏–≤—à–∏–µ –ø–æ—Å–ª–µ 2-–π

üìå –û–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ "–∂–∏–≤—É—Ç –¥–æ–ª–≥–æ", –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ä–µ–∂–µ, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.

### –í–æ–ø—Ä–æ—Å: –∫–∞–∫ GIL —Å–≤—è–∑–∞–Ω —Å GC?

–û—Ç–≤–µ—Ç:

***GIL (Global Interpreter Lock)*** ‚Äî —ç—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
üìå GIL - –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –¥–∞—ë—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ—Ç–æ–∫–∞–º –∏—Å–ø–æ–ª–Ω—è—Ç—å Python-–∫–æ–¥ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, 
–¥–∞–∂–µ –Ω–∞ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö.

üìå –ß—Ç–æ –≤–∞–∂–Ω–æ:

–°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ (GC) –∑–∞–≤–∏—Å–∏—Ç –æ—Ç GIL
‚Üí –ø–æ—Ç–æ–º—É —á—Ç–æ GC —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∞–º—è—Ç—å—é, –∫–æ—Ç–æ—Ä—É—é –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ—Ç–æ–∫–∏

üß† –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

- –í Python –ø–∞–º—è—Ç—å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ GC)
- –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç, –∞ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –≤ —ç—Ç–æ –∂–µ –≤—Ä–µ–º—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ ‚Äî –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –∏–ª–∏ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏
- –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ ‚Äî GIL –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –≤–æ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–∞–º—è—Ç—å—é

üîê –ß—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–µ–ª–∞–µ—Ç GIL:
- –ö–æ–≥–¥–∞ Python –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞ ‚Äî –æ–Ω –¥–µ—Ä–∂–∏—Ç GIL, —á—Ç–æ–±—ã –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –Ω–µ –º–µ—à–∞–ª
- –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ (Reference Counting) ‚Äî –≤—Å–µ–≥–¥–∞ –ø–æ–¥ –∑–∞—â–∏—Ç–æ–π GIL
–ø–æ—Ç–æ–º—É —á—Ç–æ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ/—É–º–µ–Ω—å—à–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ —Å—Å—ã–ª–æ–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—á–µ–Ω—å —á–∞—Å—Ç–æ
- GC-–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤ ‚Äî —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ GIL

üîÑ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
üí£ –ë–µ–∑ GIL, –µ—Å–ª–∏ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—Ç —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏:

- double free (—É–¥–∞–ª–µ–Ω–∏–µ —É–∂–µ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞)
- dangling pointer (—Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç)
- —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ (–æ–±—ä–µ–∫—Ç –æ—Å—Ç–∞–ª—Å—è, –Ω–æ –Ω–µ –Ω—É–∂–µ–Ω)

GIL –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –º—É—Å–æ—Ä–∞.

### –í–æ–ø—Ä–æ—Å: –µ—Å–ª–∏ GIL –∑–∞—â–∏—â–∞–µ—Ç –ø–∞–º—è—Ç—å –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏, —á—Ç–æ –Ω–∞—Å—á—ë—Ç –º—É–ª—å—Ç–∏–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ—Å—Ç–∏?

üîë –û—Ç–≤–µ—Ç:

üìå –í –º—É–ª—å—Ç–∏–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ multiprocessing –≤ Python), –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç —Å–≤–æ—é –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–º—è—Ç—å.
‚Üí –û–Ω–∏ –Ω–µ –¥–µ–ª—è—Ç –æ–±—ä–µ–∫—Ç—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –Ω–∞–ø—Ä—è–º—É—é.

‚öôÔ∏è –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

- –ò–º–µ–µ—Ç —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–ø–∏—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python
- –ò, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —Å–≤–æ–π GIL
- –ò —Å–≤–æ–π –º–µ—Ö–∞–Ω–∏–∑–º GC

üì¶ –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?
- GIL –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∏—Ö –Ω–µ—Ç –æ–±—â–µ–π –ø–∞–º—è—Ç–∏
- –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–¥–µ–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–µ–π –ø–∞–º—è—Ç—å—é
- –ï—Å–ª–∏ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç GC ‚Äî —ç—Ç–æ –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

‚ö†Ô∏è ***–ù–æ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –æ–±—ä–µ–∫—Ç–æ–≤ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø***

‚ùì "–ü–æ—á–µ–º—É –≤ CPython GC —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤ –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏?"

üîë –ü–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, —Å–≤–æ—é –ø–∞–º—è—Ç—å, —Å–≤–æ–π GIL –∏ —Å–≤–æ–π GC.
‚Üí –ú–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –Ω–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –∑–∞ –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏, –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ –Ω—É–∂–Ω–∞ –∑–∞—â–∏—Ç–∞ GIL –º–µ–∂–¥—É –Ω–∏–º–∏.

### –í–æ–ø—Ä–æ—Å: —Ä–∞—Å—Å–∫–∞–∂–∏ –æ–± –æ–ø—ã—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏.

–û—Ç–≤–µ—Ç:

***Memory profiler*** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ö–∞–∫–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏/—Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∫–æ–¥–∞
- –ö–æ–≥–¥–∞ –∏ –ø–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–æ—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

‚úÖ 1. memory_profiler ‚Äî üìè –∏–∑–º–µ—Ä—è–µ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ —Å—Ç—Ä–æ–∫–∞–º.

```
pip install memory-profiler
```
```python
from memory_profiler import profile

@profile
def my_func():
    a = [x for x in range(1000)]
    return a

my_func()

```
```
Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
   141     23.3 MiB     23.3 MiB           1   @profile
   142                                         def my_func():
   143     23.4 MiB      0.1 MiB        1001       a = [x for x in range(1000)]
   144     23.4 MiB      0.0 MiB           1       print(a)
```

üîç –ß—Ç–æ –∑–Ω–∞—á–∏—Ç –∫–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞:
- Mem usage ‚Äì —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏.
- Increment ‚Äì –Ω–∞—Å–∫–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å (—É–≤–µ–ª–∏—á–∏–ª–∞—Å—å) –ø–∞–º—è—Ç—å –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–æ–∫–æ–π.
- Occurrences ‚Äì —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (–≤—ã–∑–≤–∞–Ω–∞).
- Line Contents ‚Äì —Å–∞–º–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞.

‚úÖ 2. tracemalloc ‚Äî üîç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ Python (c 3.4+), –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏
```python
import tracemalloc

tracemalloc.start()

# –≤–∞—à –∫–æ–¥
a = [x for x in range(1000000)]

snapshot = tracemalloc.take_snapshot()
top_stats = snapshot.statistics('lineno')

for stat in top_stats[:5]:
    print(stat)

```
üß† –û–Ω –ø–æ–∫–∞–∂–µ—Ç: –≤ –∫–∞–∫–æ–º –º–µ—Å—Ç–µ –∫–æ–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–∞–º—ã–µ "—Ç—è–∂—ë–ª—ã–µ" –æ–±—ä–µ–∫—Ç—ã

‚úÖ 3. objgraph ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–¥–µ –∏ –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã "–∑–∞—Å—Ç—Ä—è–ª–∏" –≤ –ø–∞–º—è—Ç–∏.
- –æ–∂–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ —Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏.
- –ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –æ–±—ä–µ–∫—Ç –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è ‚Äî –Ω–∞ –Ω–µ–≥–æ –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞.
```
pip install objgraph
```
```python
import objgraph

class MyClass:
    def __init__(self):
        self.ref = self

# –°–æ–∑–¥–∞—ë–º "—É—Ç–µ—á–∫—É"
leak = MyClass()

# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å
objgraph.show_backrefs([leak], filename='leak.png')
```
üìò –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- MyClass —Å—Å—ã–ª–∞–µ—Ç—Å—è —Å–∞–º –Ω–∞ —Å–µ–±—è (—á–µ—Ä–µ–∑ self.ref = self) ‚Äî —ç—Ç–æ —Ü–∏–∫–ª.
- –ú—ã —Å–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç leak, –∏ –¥–∞–∂–µ –µ—Å–ª–∏ –±—ã —É–¥–∞–ª–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é leak, –æ–±—ä–µ–∫—Ç –æ—Å—Ç–∞–ª—Å—è –±—ã –≤ –ø–∞–º—è—Ç–∏, –µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω GC –∏–ª–∏ –µ—Å–ª–∏ –Ω–∞ –Ω–µ–≥–æ –æ—Å—Ç–∞–ª–∞—Å—å —Å—Å—ã–ª–∫–∞ –≥–¥–µ-—Ç–æ –µ—â—ë.

üìä –ß—Ç–æ –¥–µ–ª–∞–µ—Ç objgraph.show_backrefs:

–°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ leak,
- —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ –ø–æ–ª—è,
- –∏ –ø–æ—á–µ–º—É Python –Ω–µ —É–¥–∞–ª–∏–ª –æ–±—ä–µ–∫—Ç.

üìÅ –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª leak.png —Å –≥—Ä–∞—Ñ–æ–º.

- üõ† –ü–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ—á–µ–º—É –æ–±—ä–µ–∫—Ç –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è (—É—Ç–µ—á–∫–∞).

üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

–í–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Graphviz
```
sudo pacman -S graphviz
```
```
sudo apt install graphviz
```
```
brew install graphviz
```

```objgraph.show_growth()``` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Ç–∞–ª–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞.

```objgraph.get_referrers(obj)``` ‚Äî –≤—Ä—É—á–Ω—É—é –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ obj.




# TODO –¥–æ–¥–µ–ª–∞—Ç—å –∞–±–∑–∞—Ü 


### –í–æ–ø—Ä–æ—Å: –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω PyObject (–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ, —á—Ç–æ –≤ –Ω–µ–º —Ö—Ä–∞–Ω–∏—Ç—Å—è)

–û—Ç–≤–µ—Ç:

–í—Å—ë –≤ Python —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–≤–æ–µ–π IDE(—É –º–µ–Ω—è PyCharm) –∏ –≤–≤–µ–¥–∏—Ç–µ:
```
>>> isinstance(1, object)
True
>>> isinstance(list(), object)
True
>>> isinstance(True, object)
True
>>> def foo():
...    pass
...
>>> isinstance(foo, object)
True
```
–û—Ç—Å—é–¥–∞ —Å–ª–µ–¥—É–µ—Ç –≤—ã–≤–æ–¥, —á—Ç–æ –≤—Å—ë –≤ python - –æ–±—ä–µ–∫—Ç—ã!

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç (PyObject) —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∏–Ω–∏–º—É–º 2 –≤–∏–¥–∞ –¥–∞–Ω–Ω—ã—Ö:
- –°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä ([Refcounter](#–≤–æ–ø—Ä–æ—Å-—Ä–∞—Å—Å–∫–∞–∂–∏-–ø—Ä–æ-–æ–±–∞-–º–µ—Ö–∞–Ω–∏–∑–º–∞-—Å–±–æ—Ä–∫–∏-–º—É—Å–æ—Ä–∞-refcounter--generations))
- –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞ (–¢–∏–ø –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ CPython –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —Ö–æ–¥–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (runtime))
```
–ü–æ–ª–µ	                    –¢–∏–ø	                  –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
ob_refcnt                   Py_ssize_t            –°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä

ob_type                     _typeobject*          –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
```

–¢–∞–∫ –∂–µ –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –æ–±—ä–µ–∫—Ç—ã –≤ python –±—ã–≤–∞—é—Ç –∏–∑–º–µ–Ω—è–µ–º—ã–µ(mutable) –∏ –Ω–µ –∏–∑–º–µ–Ω—è–µ–º—ã–µ(immutable)

```id()``` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–∞

```
id(x)
134235416319056
x += 1
id(x)
134235416319088
```
–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è, –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, —Å –Ω–æ–≤—ã–º –∞–¥—Ä–µ—Å–æ–º –ø–∞–º—è—Ç–∏. 

–°–æ —Å—Ç—Ä–æ–∫–∞–º–∏ —Ç–∞ –∂–µ —Å–∏—Ç—É–∞—Ü–∏—è:
```
s = "I Wanna "
id(s)
134235383862960
s += "Rock"
s
'I Wanna Rock'
id(s)
134235404419248
```
–ü–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ +=, s –ø–æ–ª—É—á–∞–µ—Ç –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏.

+= - —ç—Ç–æ –º–µ—Ç–æ–¥ ```__iadd__()```. –ú–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç, –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π, 
–Ω–æ —Ç–∞–∫ –∫–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ ```__add__()```
–ï—Å–ª–∏ –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏:
```
lst = [1, 2, 3]
id(lst)
134235380881984
lst.append(4)  # –¥–æ–±–∞–≤–∏–ª–∏ 4 –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞
lst.extend([5, 6])  # –¥–æ–±–∞–≤–∏–ª–∏ 5, 6 –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞
lst[0] = 7  # –∑–∞–º–µ–Ω–∏–ª–∏ [0] –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ 7
lst
[7, 2, 3, 4, 5, 6]
id(lst)
134235380881984
lst += [1]  # –¥–æ–±–∞–≤–∏–ª–∏ 1 –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞
id(lst)
134235380881984  # <-- id –æ–±—ä–µ–∫—Ç–∞ –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–µ–º
lst
[7, 2, 3, 4, 5, 6, 1]
```

PyObject ‚Äî —ç—Ç–æ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ CPython. 
–û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç –∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–º –æ–±—ä–µ–∫—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–∏–ø–∞.
PyObject –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±—ã–µ –æ–±—ä–µ–∫—Ç—ã Python, –≤–∫–ª—é—á–∞—è —Å–ø–∏—Å–∫–∏, —Å–ª–æ–≤–∞—Ä–∏, —Å–æ–∫–µ—Ç—ã, 
—Ñ–∞–π–ª—ã, —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã.
–ü–æ—Å–∫–æ–ª—å–∫—É C –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–Ω–æ- –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –≤ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç Python, 
–æ–±—ä–µ–∫—Ç—ã –≤ C –Ω–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ–¥–∏–Ω –∏–∑ –¥—Ä—É–≥–æ–≥–æ. 
PyObject –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–º —Å–µ–≥–º–µ–Ω—Ç–æ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ Python, 
–∞ PyObject * –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ.

–ò–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (interned) –æ–±—ä–µ–∫—Ç—ã - –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ python —Å–æ–∑–¥–∞—ë—Ç –≤ –ø–∞–º—è—Ç–∏ –∏ 
—Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º—ë–Ω –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

- –¶–µ–ª—ã–µ —á–∏—Å–ª–∞ –æ—Ç -5 –¥–æ 256
- –°—Ç—Ä–æ–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Ç–æ–ª—å–∫–æ ASCII-–±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏–ª–∏ –∑–Ω–∞–∫–∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è.

–°—Ç—Ä–æ–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–º –º–µ–Ω—å—à–µ 20 —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ ASCII-–±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏–ª–∏ –∑–Ω–∞–∫–∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è –±—É–¥—É—Ç –∏–Ω—Ç–µ—Ä–Ω–∏—Ä–æ–≤–∞–Ω—ã, 
–ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–∏ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤:
```
s_1 = "new_name"
id(s_1)
126823916577712
s_2 = "new_name"
id(s_2)
126823916577712
```
–°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏: 

https://habr.com/ru/companies/vk/articles/454324/, 
http://onreader.mdl.ru/CPythonInternals/content/Ch11.html,
https://pythonextensionpatterns.readthedocs.io/en/latest/refcount.html#pyobjects-and-reference-counting


### –í–æ–ø—Ä–æ—Å: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ python

—è –ø–µ—Ä–µ—á–∏—Å–ª—é –ª–∏—à—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—ë–º—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞:
- ```__slots__``` - —ç—Ç–æ –∞—Ç—Ä–∏–±—É—Ç, –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–ª–∏ Dunder-–º–µ—Ç–æ–¥, 
–ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –ø–∞–º—è—Ç—å, –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–æ–¥ –æ–±—ä–µ–∫—Ç. 
–û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º–µ–Ω–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∑–∞—Ä–∞–Ω–µ–µ –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, 
–Ω–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ —Å–ª–æ—Ç–∞—Ö. –¢–∞–∫–∂–µ —ç—Ç–æ—Ç Dunder-–º–µ—Ç–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö –∫–ª–∞—Å—Å–∞.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å, 
—Ç–∞–∫ –∫–∞–∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Å–ª–æ–≤–∞—Ä—å dict –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞—ë—Ç dict).
- Singleton - —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏–π, —á—Ç–æ —É –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä.
- JIT (Just-In-Time) –ö–æ–º–ø–∏–ª—è—Ü–∏—è 
- lru_cache - –î–µ–∫–æ—Ä–∞—Ç–æ—Ä lru_cache –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, 
—á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –°-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ (numpy, scipy)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å –Ω–∏–∑–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ join() –≤–º–µ—Å—Ç–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ map(), –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å–ø–∏—Å–∫–æ–≤(LC) –≤–º–µ—Å—Ç–æ —Ü–∏–∫–ª–æ–≤
- –ò–∑–±–µ–≥–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ß–µ–º –º–µ–Ω—å—à–µ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ Python –º–æ–∂–µ—Ç –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å. 
–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ set –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ list
–°—Å—ã–ª–∫–∏: https://akeidev.ru/blog/pages/blog/dev_python/optimization_py.html#_10
