"""
–í logging –ª—É—á—à–µ –∏–∑–±–µ–≥–∞—Ç—å f-—Å—Ç—Ä–æ–∫ –≤–≤–∏–¥—É –∏—Ö –º–µ—Ö–∞–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç—ã, —Å–µ–π—á–∞—Å –ø–æ—è—Å–Ω—é –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö.
"""

import logging
import time

logging.basicConfig(level=logging.WARNING)
logger = logging.getLogger(__name__)


def heavy_func():
    time.sleep(0.001)
    return 1


def timer(func):
    def wrapper(*args, **kwargs):
        start = time.perf_counter()
        result = func(*args, **kwargs)
        delta = time.perf_counter() - start
        print(f"–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ {func.__name__} –∑–∞–Ω—è–ª–æ: {delta:.6f}")
        return result

    return wrapper


# f-—Å—Ç—Ä–æ–∫–∞
@timer
def f_string(value_for_log):
    for _ in range(100):
        logger.debug(f"–ó–Ω–∞—á–µ–Ω–∏–µ: {value_for_log()}")


# —Å—Ç—Ä–æ–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
@timer
def no_f_string(value_for_log):
    for _ in range(100):
        if logger.isEnabledFor(logging.DEBUG):
            logger.debug("–ó–Ω–∞—á–µ–Ω–∏–µ: %s", value_for_log())


if __name__ == "__main__":
    f_string(heavy_func)
    no_f_string(heavy_func)


"""
1) –í—ã–∑–æ–≤ –∑–Ω–∞—á–µ–Ω–∏—è heavy_func ‚Äî –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –ø—Ä—è–º–æ –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ f-—Å—Ç—Ä–æ–∫–∏.
2) –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å—Ç—Ä–æ–∫—É: —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫—É.
3) –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏: —Å–æ–∑–¥–∞—ë—Ç—Å—è –≥–æ—Ç–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ (–ó–Ω–∞—á–µ–Ω–∏–µ: 1)
4) –ü–µ—Ä–µ–¥–∞—á–∞ –≤ –ª–æ–≥–≥–µ—Ä: —ç—Ç–∞ —É–∂–µ –≥–æ—Ç–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ logger.debug(...)
5) –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: 
- –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –Ω–∏–∂–µ (DEBUG –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω), —Ç–æ —Å—Ç—Ä–æ–∫–∞ –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è.
- –ù–æ –≤—Å—è —Ä–∞–±–æ—Ç–∞ —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–Ω–∞ ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

üéØ –í—ã–≤–æ–¥:
–î–∞–∂–µ –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ –ª–æ–≥, –≤—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç. 
–≠—Ç–æ –Ω–µ—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–∏ –¥–æ—Ä–æ–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.
"""

"""
1) –í—ã–∑–æ–≤ logger.debug(...) —Å —à–∞–±–ª–æ–Ω–æ–º –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: 
- –®–∞–±–ª–æ–Ω: "–ó–Ω–∞—á–µ–Ω–∏–µ: %s" 
- –ê—Ä–≥—É–º–µ–Ω—Ç: value_for_log() (–Ω–æ –µ—â—ë –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è).
2)–í–Ω—É—Ç—Ä–∏ –ª–æ–≥–≥–µ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: logger.isEnabledFor(logging.DEBUG)
3) –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å DEBUG –æ—Ç–∫–ª—é—á—ë–Ω:
- –õ–æ–≥–≥–µ—Ä –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.
- value_for_log() –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è.
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ —Ç–æ–∂–µ –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.
–ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å DEBUG –≤–∫–ª—é—á—ë–Ω:
- –¢–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- –°—Ç—Ä–æ–∫–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
- –°–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è

üéØ –í—ã–≤–æ–¥:
–ï—Å–ª–∏ –ª–æ–≥ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω ‚Äî —Ç–æ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –≤—ã—á–∏—Å–ª–µ–Ω—ã, –∏ —Å—Ç—Ä–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞. 
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º.
"""
